{"version":3,"sources":["./src/app/my-booking/my-booking.page.html","./src/app/my-booking/my-booking.module.ts","./src/app/my-booking/my-booking.page.scss","./src/app/my-booking/my-booking.page.ts"],"names":[],"mappings":"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","file":"my-booking-my-booking-module.js","sourcesContent":["export default \"<ion-grid no-padding class=\\\"grid ion-margin-bottom\\\">\\r\\n  <ion-row class=\\\"full-height\\\">\\r\\n    <ion-col class=\\\"menu-column vertical-align\\\" size-sm=\\\"1\\\">\\r\\n      <ion-menu-button size=\\\"large\\\"></ion-menu-button>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" size-md=\\\"7\\\" class=\\\"photo-column vertical-align\\\" no-padding>\\r\\n      <ion-menu-button color=\\\"light\\\" size=\\\"large\\\" class=\\\"mobile-menu-button-position ion-float-left\\\"></ion-menu-button>\\r\\n      <div id=\\\"photo-column-picture\\\">\\r\\n        <img src=\\\"assets/Anse_Rouge_AS.jpeg\\\" alt=\\\"\\\">\\r\\n      </div>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n      <ion-row>\\r\\n        <ion-col class=\\\"ion-justify-content-end ion-align-items-center display-logo\\\">\\r\\n          <ion-text>Le Toucan</ion-text>\\r\\n          <div id=\\\"logo-wrap\\\">\\r\\n            <img src=\\\"assets/toucan.PNG\\\" alt=\\\"Au Toucan\\\">\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col class=\\\"ion-text-center\\\" *ngIf=\\\"!myBooking\\\">\\r\\n          <div class=\\\"danger-message\\\" *ngIf=\\\"searchBookingFailure\\\">\\r\\n            <ion-text color=\\\"danger\\\"> Une erreur est survenue avec votre réservation. Veuillez réessayer.</ion-text>\\r\\n          </div>\\r\\n          <p>Bonjour</p>\\r\\n          <p>Entrez votre réference de réservation pour continuer s'il vous plait</p>\\r\\n          <div class=\\\"reference-input\\\">\\r\\n            <ion-input placeholder=\\\"Réference\\\" [(ngModel)]=\\\"reference\\\" required></ion-input>\\r\\n          </div>\\r\\n          <ion-button [disabled]=\\\"!reference\\\" (click)=\\\"searchBooking()\\\">OK</ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col *ngIf=\\\"!!myBooking\\\">\\r\\n          <app-recap-booking [booking]=\\\"myBooking\\\" class=\\\"ion-margin-top\\\"></app-recap-booking>\\r\\n          <div class=\\\"ion-text-center\\\">\\r\\n            <ion-button>Modifier</ion-button>\\r\\n            <ion-button color=\\\"danger\\\" (click)=\\\"detele()\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row *ngIf=\\\"!myBooking\\\">\\r\\n        <ion-col class=\\\"ion-text-center\\\">\\r\\n          <p>La réference de réservation vous a été envoyé par mail lors de votre réservation</p>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-grid>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MyBookingPage } from './my-booking.page';\r\nimport { RecapBookingComponent } from '../components/recap-booking/recap-booking.component';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyBookingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [MyBookingPage]\r\n})\r\nexport class MyBookingPageModule { }\r\n","export default \".full-height {\\n  height: 100%;\\n}\\n\\n.grid {\\n  margin-left: 0;\\n  margin-right: 0;\\n}\\n\\n.photo-column {\\n  display: flex;\\n  padding-right: 16px;\\n}\\n\\n.vertical-align {\\n  align-items: center;\\n}\\n\\n.menu-column {\\n  display: flex;\\n  height: 100%;\\n}\\n\\n.mobile-menu-button-position {\\n  display: none;\\n}\\n\\n.display-logo {\\n  display: flex;\\n}\\n\\n#logo-wrap {\\n  width: 80px;\\n  height: auto;\\n}\\n\\n.reference-input {\\n  border-width: 1px;\\n  border-color: #ddd9d9;\\n  border-style: solid;\\n  width: 80%;\\n  margin: 0 auto 1em;\\n}\\n\\n@media screen and (max-width: 768px) {\\n  .menu-column {\\n    display: none;\\n  }\\n  .photo-column {\\n    display: flex;\\n    background-image: url('shore.jpg');\\n    height: 30%;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    padding-right: 0px;\\n  }\\n  #photo-column-picture {\\n    display: none;\\n  }\\n  .mobile-menu-button-position {\\n    display: block;\\n    position: relative;\\n    top: -30%;\\n    left: 5%;\\n  }\\n  .display-logo {\\n    display: none;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXktYm9va2luZy9DOlxcVXNlcnNcXHNjaHVsXFxEb2N1bWVudHNcXEF1VG91Y2FuL3NyY1xcYXBwXFxteS1ib29raW5nXFxteS1ib29raW5nLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbXktYm9va2luZy9teS1ib29raW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQVk7QUNDaEI7O0FERUU7RUFDRSxjQUFjO0VBQ2QsZUFBZTtBQ0NuQjs7QURFRTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUNDdkI7O0FERUU7RUFDRSxtQkFBbUI7QUNDdkI7O0FERUU7RUFDRSxhQUFhO0VBQ2IsWUFBWTtBQ0NoQjs7QURFRTtFQUNFLGFBQWE7QUNDakI7O0FERUU7RUFDRSxhQUFhO0FDQ2pCOztBREVFO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUNDaEI7O0FERUU7RUFDRSxpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixVQUFVO0VBQ1Ysa0JBQWtCO0FDQ3RCOztBREVFO0VBQ0U7SUFDRSxhQUFhO0VDQ2pCO0VERUU7SUFDRSxhQUFhO0lBQ2Isa0NBQStDO0lBQy9DLFdBQVc7SUFDWCwyQkFBMkI7SUFDM0IsNEJBQTRCO0lBQzVCLHNCQUFzQjtJQUN0QixrQkFBa0I7RUNBdEI7RURHRTtJQUNFLGFBQWE7RUNEakI7RURJRTtJQUNFLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFFBQVE7RUNGWjtFREtFO0lBQ0UsYUFBYTtFQ0hqQjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbXktYm9va2luZy9teS1ib29raW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mdWxsLWhlaWdodCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5ncmlkIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgLnBob3RvLWNvbHVtbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgcGFkZGluZy1yaWdodDogMTZweDtcclxuICB9XHJcbiAgXHJcbiAgLnZlcnRpY2FsLWFsaWduIHtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5tZW51LWNvbHVtbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gIH1cclxuICBcclxuICAubW9iaWxlLW1lbnUtYnV0dG9uLXBvc2l0aW9uIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG4gIFxyXG4gIC5kaXNwbGF5LWxvZ28ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICB9XHJcbiAgXHJcbiAgI2xvZ28td3JhcCB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIGhlaWdodDogYXV0bztcclxuICB9XHJcblxyXG4gIC5yZWZlcmVuY2UtaW5wdXQge1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBib3JkZXItY29sb3I6ICNkZGQ5ZDk7XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvIDFlbTtcclxuICB9XHJcblxyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICAubWVudS1jb2x1bW4ge1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLnBob3RvLWNvbHVtbiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uL2Fzc2V0cy9zaG9yZS5qcGdcIik7XHJcbiAgICAgIGhlaWdodDogMzAlO1xyXG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDBweDtcclxuICAgIH1cclxuICBcclxuICAgICNwaG90by1jb2x1bW4tcGljdHVyZSB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAubW9iaWxlLW1lbnUtYnV0dG9uLXBvc2l0aW9uIHtcclxuICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgdG9wOiAtMzAlO1xyXG4gICAgICBsZWZ0OiA1JTtcclxuICAgIH1cclxuICBcclxuICAgIC5kaXNwbGF5LWxvZ28ge1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG4gIH1cclxuICAiLCIuZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5ncmlkIHtcbiAgbWFyZ2luLWxlZnQ6IDA7XG4gIG1hcmdpbi1yaWdodDogMDtcbn1cblxuLnBob3RvLWNvbHVtbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmctcmlnaHQ6IDE2cHg7XG59XG5cbi52ZXJ0aWNhbC1hbGlnbiB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5tZW51LWNvbHVtbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLm1vYmlsZS1tZW51LWJ1dHRvbi1wb3NpdGlvbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5kaXNwbGF5LWxvZ28ge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4jbG9nby13cmFwIHtcbiAgd2lkdGg6IDgwcHg7XG4gIGhlaWdodDogYXV0bztcbn1cblxuLnJlZmVyZW5jZS1pbnB1dCB7XG4gIGJvcmRlci13aWR0aDogMXB4O1xuICBib3JkZXItY29sb3I6ICNkZGQ5ZDk7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIHdpZHRoOiA4MCU7XG4gIG1hcmdpbjogMCBhdXRvIDFlbTtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLm1lbnUtY29sdW1uIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gIC5waG90by1jb2x1bW4ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vYXNzZXRzL3Nob3JlLmpwZ1wiKTtcbiAgICBoZWlnaHQ6IDMwJTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgIHBhZGRpbmctcmlnaHQ6IDBweDtcbiAgfVxuICAjcGhvdG8tY29sdW1uLXBpY3R1cmUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgLm1vYmlsZS1tZW51LWJ1dHRvbi1wb3NpdGlvbiB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogLTMwJTtcbiAgICBsZWZ0OiA1JTtcbiAgfVxuICAuZGlzcGxheS1sb2dvIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { BookingsService } from '../services/bookings.service';\r\nimport { Booking } from '../models/booking.model';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-my-booking',\r\n  templateUrl: './my-booking.page.html',\r\n  styleUrls: ['./my-booking.page.scss'],\r\n})\r\nexport class MyBookingPage implements OnInit {\r\n\r\n  reference = '';\r\n  myBooking: Booking; \r\n  searchBookingFailure = false;\r\n  \r\n  constructor(\r\n    private bookingService: BookingsService, \r\n    private alertCtrl: AlertController,\r\n    private router: Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  searchBooking() {\r\n    this.bookingService.getByReference(this.reference)\r\n    .then((booking: Booking) => {\r\n      this.myBooking = booking;\r\n      this.searchBookingFailure = false;\r\n    })\r\n    .catch(error => { \r\n      console.error(error);\r\n      this.searchBookingFailure = !this.searchBookingFailure;\r\n    });\r\n  }\r\n\r\n  async presentDeleteAlert() {\r\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\r\n      header: 'Supprimer',\r\n      message: 'Etes vous sur de vouloir supprmier votre réservation ?',\r\n      buttons: [\r\n        {\r\n          text: 'Annuler',\r\n          role: 'cancel',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Oui',\r\n          handler: () => {\r\n            this.deleteBooking();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n  detele() {\r\n    this.presentDeleteAlert();\r\n  }\r\n\r\n  deleteBooking() {\r\n    this.bookingService.delete(this.myBooking.id)\r\n    .then(booking => {\r\n      this.router.navigate(['/home']).then(() => this.myBooking = null);\r\n    })\r\n    .catch(error => console.error(error));\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}