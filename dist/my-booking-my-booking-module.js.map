{"version":3,"sources":["./src/app/my-booking/my-booking.page.html","./src/app/my-booking/my-booking.module.ts","./src/app/my-booking/my-booking.page.scss","./src/app/my-booking/my-booking.page.ts"],"names":[],"mappings":"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","file":"my-booking-my-booking-module.js","sourcesContent":["export default \"<ion-grid no-padding class=\\\"grid ion-margin-bottom\\\">\\n  <ion-row class=\\\"full-height\\\">\\n    <ion-col class=\\\"menu-column vertical-align\\\" size-sm=\\\"1\\\">\\n      <ion-menu-button size=\\\"large\\\"></ion-menu-button>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\" size-md=\\\"7\\\" class=\\\"photo-column vertical-align\\\" no-padding>\\n      <ion-menu-button color=\\\"light\\\" size=\\\"large\\\" class=\\\"mobile-menu-button-position ion-float-left\\\"></ion-menu-button>\\n      <div id=\\\"photo-column-picture\\\">\\n        <img src=\\\"assets/Anse_Rouge_AS.jpeg\\\" alt=\\\"\\\">\\n      </div>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\n      <ion-row>\\n        <ion-col class=\\\"ion-justify-content-end ion-align-items-center display-logo\\\">\\n          <ion-text>Le Toucan</ion-text>\\n          <div id=\\\"logo-wrap\\\">\\n            <img src=\\\"assets/toucan.PNG\\\" alt=\\\"Au Toucan\\\">\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\" *ngIf=\\\"!myBooking\\\">\\n          <div class=\\\"danger-message\\\" *ngIf=\\\"searchBookingFailure\\\">\\n            <ion-text color=\\\"danger\\\"> Une erreur est survenue avec votre réservation. Veuillez réessayer.</ion-text>\\n          </div>\\n          <p>Bonjour</p>\\n          <p>Entrez votre réference de réservation pour continuer s'il vous plait</p>\\n          <div class=\\\"reference-input\\\">\\n            <ion-input placeholder=\\\"Réference\\\" [(ngModel)]=\\\"reference\\\" required></ion-input>\\n          </div>\\n          <ion-button [disabled]=\\\"!reference\\\" (click)=\\\"searchBooking()\\\">OK</ion-button>\\n        </ion-col>\\n        <ion-col *ngIf=\\\"!!myBooking\\\">\\n          <app-recap-booking [booking]=\\\"myBooking\\\" class=\\\"ion-margin-top\\\"></app-recap-booking>\\n          <div class=\\\"ion-text-center\\\">\\n            <ion-button>Modifier</ion-button>\\n            <ion-button color=\\\"danger\\\" (click)=\\\"detele()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row *ngIf=\\\"!myBooking\\\">\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <p>La réference de réservation vous a été envoyé par mail lors de votre réservation</p>\\n        </ion-col>\\n      </ion-row>\\n\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyBookingPage } from './my-booking.page';\nimport { RecapBookingComponent } from '../components/recap-booking/recap-booking.component';\nimport { ComponentsModule } from '../components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyBookingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MyBookingPage]\n})\nexport class MyBookingPageModule { }\n","export default \".full-height {\\n  height: 100%;\\n}\\n\\n.grid {\\n  margin-left: 0;\\n  margin-right: 0;\\n}\\n\\n.photo-column {\\n  display: flex;\\n  padding-right: 16px;\\n}\\n\\n.vertical-align {\\n  align-items: center;\\n}\\n\\n.menu-column {\\n  display: flex;\\n  height: 100%;\\n}\\n\\n.mobile-menu-button-position {\\n  display: none;\\n}\\n\\n.display-logo {\\n  display: flex;\\n}\\n\\n#logo-wrap {\\n  width: 80px;\\n  height: auto;\\n}\\n\\n.reference-input {\\n  border-width: 1px;\\n  border-color: #ddd9d9;\\n  border-style: solid;\\n  width: 80%;\\n  margin: 0 auto 1em;\\n}\\n\\n@media screen and (max-width: 768px) {\\n  .menu-column {\\n    display: none;\\n  }\\n\\n  .photo-column {\\n    display: flex;\\n    background-image: url('shore.jpg');\\n    height: 30%;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    padding-right: 0px;\\n  }\\n\\n  #photo-column-picture {\\n    display: none;\\n  }\\n\\n  .mobile-menu-button-position {\\n    display: block;\\n    position: relative;\\n    top: -30%;\\n    left: 5%;\\n  }\\n\\n  .display-logo {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9BbGV4YW5kcmFTZWxlZS9Eb2N1bWVudHMvQmVuamkvQXVUb3VjYW4vc3JjL2FwcC9teS1ib29raW5nL215LWJvb2tpbmcucGFnZS5zY3NzIiwic3JjL2FwcC9teS1ib29raW5nL215LWJvb2tpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBREVFO0VBQ0UsY0FBQTtFQUNBLGVBQUE7QUNDSjs7QURFRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQ0NKOztBREVFO0VBQ0UsbUJBQUE7QUNDSjs7QURFRTtFQUNFLGFBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUU7RUFDRSxhQUFBO0FDQ0o7O0FERUU7RUFDRSxhQUFBO0FDQ0o7O0FERUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVFO0VBQ0UsaUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUU7RUFDRTtJQUNFLGFBQUE7RUNDSjs7RURFRTtJQUNFLGFBQUE7SUFDQSxrQ0FBQTtJQUNBLFdBQUE7SUFDQSwyQkFBQTtJQUNBLDRCQUFBO0lBQ0Esc0JBQUE7SUFDQSxrQkFBQTtFQ0NKOztFREVFO0lBQ0UsYUFBQTtFQ0NKOztFREVFO0lBQ0UsY0FBQTtJQUNBLGtCQUFBO0lBQ0EsU0FBQTtJQUNBLFFBQUE7RUNDSjs7RURFRTtJQUNFLGFBQUE7RUNDSjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbXktYm9va2luZy9teS1ib29raW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mdWxsLWhlaWdodCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4gIFxuICAuZ3JpZCB7XG4gICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xuICB9XG5cbiAgLnBob3RvLWNvbHVtbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4O1xuICB9XG4gIFxuICAudmVydGljYWwtYWxpZ24ge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgXG4gIC5tZW51LWNvbHVtbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbiAgXG4gIC5tb2JpbGUtbWVudS1idXR0b24tcG9zaXRpb24ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgXG4gIC5kaXNwbGF5LWxvZ28ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbiAgXG4gICNsb2dvLXdyYXAge1xuICAgIHdpZHRoOiA4MHB4O1xuICAgIGhlaWdodDogYXV0bztcbiAgfVxuXG4gIC5yZWZlcmVuY2UtaW5wdXQge1xuICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgIGJvcmRlci1jb2xvcjogI2RkZDlkOTtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIHdpZHRoOiA4MCU7XG4gICAgbWFyZ2luOiAwIGF1dG8gMWVtO1xuICB9XG5cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAubWVudS1jb2x1bW4ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIFxuICAgIC5waG90by1jb2x1bW4ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uL2Fzc2V0cy9zaG9yZS5qcGdcIik7XG4gICAgICBoZWlnaHQ6IDMwJTtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgcGFkZGluZy1yaWdodDogMHB4O1xuICAgIH1cbiAgXG4gICAgI3Bob3RvLWNvbHVtbi1waWN0dXJlIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICBcbiAgICAubW9iaWxlLW1lbnUtYnV0dG9uLXBvc2l0aW9uIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiAtMzAlO1xuICAgICAgbGVmdDogNSU7XG4gICAgfVxuICBcbiAgICAuZGlzcGxheS1sb2dvIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG4gICIsIi5mdWxsLWhlaWdodCB7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmdyaWQge1xuICBtYXJnaW4tbGVmdDogMDtcbiAgbWFyZ2luLXJpZ2h0OiAwO1xufVxuXG4ucGhvdG8tY29sdW1uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZy1yaWdodDogMTZweDtcbn1cblxuLnZlcnRpY2FsLWFsaWduIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm1lbnUtY29sdW1uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ubW9iaWxlLW1lbnUtYnV0dG9uLXBvc2l0aW9uIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmRpc3BsYXktbG9nbyB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbiNsb2dvLXdyYXAge1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG4ucmVmZXJlbmNlLWlucHV0IHtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gIGJvcmRlci1jb2xvcjogI2RkZDlkOTtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgd2lkdGg6IDgwJTtcbiAgbWFyZ2luOiAwIGF1dG8gMWVtO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkge1xuICAubWVudS1jb2x1bW4ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAucGhvdG8tY29sdW1uIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uL2Fzc2V0cy9zaG9yZS5qcGdcIik7XG4gICAgaGVpZ2h0OiAzMCU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwcHg7XG4gIH1cblxuICAjcGhvdG8tY29sdW1uLXBpY3R1cmUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAubW9iaWxlLW1lbnUtYnV0dG9uLXBvc2l0aW9uIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAtMzAlO1xuICAgIGxlZnQ6IDUlO1xuICB9XG5cbiAgLmRpc3BsYXktbG9nbyB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { BookingsService } from '../services/bookings.service';\nimport { Booking } from '../models/booking.model';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-my-booking',\n  templateUrl: './my-booking.page.html',\n  styleUrls: ['./my-booking.page.scss'],\n})\nexport class MyBookingPage implements OnInit {\n\n  reference = '';\n  myBooking: Booking; \n  searchBookingFailure = false;\n  \n  constructor(\n    private bookingService: BookingsService, \n    private alertCtrl: AlertController,\n    private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  searchBooking() {\n    this.bookingService.getByReference(this.reference)\n    .then((booking: Booking) => {\n      this.myBooking = booking;\n      this.searchBookingFailure = false;\n    })\n    .catch(error => { \n      console.error(error);\n      this.searchBookingFailure = !this.searchBookingFailure;\n    });\n  }\n\n  async presentDeleteAlert() {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: 'Supprimer',\n      message: 'Etes vous sur de vouloir supprmier votre réservation ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Oui',\n          handler: () => {\n            this.deleteBooking();\n          }\n        }\n      ]\n    });\n\n    alert.present();\n  }\n\n  detele() {\n    this.presentDeleteAlert();\n  }\n\n  deleteBooking() {\n    this.bookingService.delete(this.myBooking.id)\n    .then(booking => {\n      this.router.navigate(['/home']).then(() => this.myBooking = null);\n    })\n    .catch(error => console.error(error));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}